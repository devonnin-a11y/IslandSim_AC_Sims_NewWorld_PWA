
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>IslandSim â€” AC x Sims x New World</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

<div id="game">
  <div class="topbar">
    <div class="chip">ğŸ—ºï¸ <span id="area-name">Meadow</span></div>
    <div class="topbar-right">
      <button class="btn" onclick="refocus()">ğŸ¯</button>
      <button class="btn" onclick="togglePhone()">ğŸ“±</button>
      <button class="btn" onclick="toggleBuild()">ğŸ </button>
    </div>
  </div>

  <div class="stage">
    <canvas id="world" width="960" height="540"></canvas>
    <canvas id="minimap" width="160" height="160" aria-label="Minimap"></canvas>
  </div>

  <div id="hud">
    <div class="hud-top">
      <div class="sim-info">
        <div id="sim-name">Sim</div>
        <div id="sim-mood">ğŸ™‚ Fine</div>
        <div id="sim-status" class="muted">Ready</div>
      </div>
      <div class="time">
        <button class="btn" onclick="setSpeed(0)">â¸ï¸</button>
        <button class="btn" onclick="setSpeed(1)">â–¶ï¸</button>
        <button class="btn" onclick="setSpeed(2)">â©</button>
        <button class="btn" onclick="setSpeed(3)">â­ï¸</button>
      </div>
    </div>

    <div class="hud-mid">
      <div class="needs">
        <div class="need">
          <div class="need-row"><span>ğŸ½ï¸ Hunger</span><b id="need-hunger"></b></div>
          <div class="bar"><div id="bar-hunger" class="fill"></div></div>
        </div>
        <div class="need">
          <div class="need-row"><span>âš¡ Energy</span><b id="need-energy"></b></div>
          <div class="bar"><div id="bar-energy" class="fill"></div></div>
        </div>
        <div class="need">
          <div class="need-row"><span>ğŸ’¬ Social</span><b id="need-social"></b></div>
          <div class="bar"><div id="bar-social" class="fill"></div></div>
        </div>
        <div class="need">
          <div class="need-row"><span>ğŸ«§ Hygiene</span><b id="need-hygiene"></b></div>
          <div class="bar"><div id="bar-hygiene" class="fill"></div></div>
        </div>
        <div class="need">
          <div class="need-row"><span>ğŸ¯ Fun</span><b id="need-fun"></b></div>
          <div class="bar"><div id="bar-fun" class="fill"></div></div>
        </div>
      </div>
    </div>

    <div class="hud-bottom">
      <div class="dpad">
        <button onclick="moveHold('up')">â¬†ï¸</button>
        <div class="dpad-row">
          <button onclick="moveHold('left')">â¬…ï¸</button>
          <button onclick="moveHold('down')">â¬‡ï¸</button>
          <button onclick="moveHold('right')">â¡ï¸</button>
        </div>
      </div>

      <div class="actions-strip">
        <button class="pill" onclick="queueAction('EAT')">ğŸ</button>
        <button class="pill" onclick="queueAction('REST')">ğŸ˜´</button>
        <button class="pill" onclick="queueAction('SOCIAL')">ğŸ’¬</button>
        <button class="pill" onclick="queueAction('GATHER')">ğŸŒ¿</button>
        <button class="pill" onclick="queueAction('CRAFT')">ğŸ› ï¸</button>
        <button class="pill" onclick="queueAction('BATH')">ğŸ«§</button>
        <button class="pill" onclick="queueAction('PLAY')">ğŸ¯</button>
      </div>

      <div class="queue">
        <div class="card-title">Queue</div>
        <div id="queue"></div>
      </div>
    </div>
  </div>
</div>

<!-- Phone -->
<div id="phone" onclick="togglePhone()">
  <div class="phone-card" onclick="event.stopPropagation()">
    <div class="phone-grid">
      <button onclick="queueAction('EAT')">ğŸ Eat</button>
      <button onclick="queueAction('REST')">ğŸ˜´ Rest</button>
      <button onclick="queueAction('SOCIAL')">ğŸ’¬ Talk</button>
      <button onclick="queueAction('BATH')">ğŸ«§ Clean</button>
      <button onclick="queueAction('PLAY')">ğŸ¯ Play</button>
      <button onclick="queueAction('GATHER')">ğŸŒ¿ Gather</button>
      <button onclick="queueAction('CRAFT')">ğŸ›  Craft</button>
      <button onclick="openCAS()">ğŸ¨ CAS</button>
      <button onclick="toggleJournal()">ğŸ“’ Journal</button>
      <button onclick="toggleInventory()">ğŸ’ Inventory</button>
    </div>
  </div>
</div>

<!-- Journal -->
<div id="journal" class="panel" onclick="toggleJournal()">
  <div class="panel-card" onclick="event.stopPropagation()">
    <h3>Journal</h3>
    <div class="muted">Quests & milestones (New World twist)</div>
    <div id="quests"></div>
    <div class="row">
      <button class="btn" onclick="toggleJournal()">Close</button>
    </div>
  </div>
</div>

<!-- Inventory -->
<div id="inventory" class="panel" onclick="toggleInventory()">
  <div class="panel-card" onclick="event.stopPropagation()">
    <h3>Inventory</h3>
    <div class="muted">Gather â†’ Craft loops live here.</div>
    <div id="inv"></div>
    <div class="row">
      <button class="btn" onclick="toggleInventory()">Close</button>
    </div>
  </div>
</div>

<!-- CAS -->
<div id="cas" class="panel" onclick="closeCAS()">
  <div class="panel-card" onclick="event.stopPropagation()">
    <h3>Create-A-Sim</h3>
    <label>Name</label>
    <input id="cas-name" placeholder="Name" />
    <label>Body Height</label>
    <input type="range" min="0" max="100" value="50" id="cas-height"/>
    <label>Body Weight</label>
    <input type="range" min="0" max="100" value="50" id="cas-weight"/>
    <div class="row">
      <button class="btn" onclick="saveCAS()">Save</button>
      <button class="btn" onclick="closeCAS()">Close</button>
    </div>
  </div>
</div>

<!-- Build -->
<div id="build" class="panel" onclick="closeBuild()">
  <div class="panel-card" onclick="event.stopPropagation()">
    <h3>Build / Lots</h3>
    <div class="muted">Tap â€œPlace Houseâ€, then click on the world.</div>
    <div class="row">
      <button class="btn" onclick="startPlaceHouse()">Place House</button>
      <button class="btn" onclick="closeBuild()">Close</button>
    </div>
  </div>
</div>

<script src="js/state.js"></script>
<script src="js/areas.js"></script>
<script src="js/mapgen.js"></script>
<script src="js/input.js"></script>
<script src="js/sound.js"></script>
<script src="js/needs.js"></script>
<script src="js/moodlets.js"></script>
<script src="js/inventory.js"></script>
<script src="js/quests.js"></script>
<script src="js/actions.js"></script>
<script src="js/autonomy.js"></script>
<script src="js/world.js"></script>
<script src="js/ui.js"></script>
<script src="js/game.js"></script>
</body>
</html>
